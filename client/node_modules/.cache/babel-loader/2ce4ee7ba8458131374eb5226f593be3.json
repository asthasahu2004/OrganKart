{"ast":null,"code":"import { DashboardData, postUploadImage, getSliderImages, postDeleteImage } from \"./FetchApi\";\nimport { getAllOrder } from \"../orders/FetchApi.js\";\nexport const GetAllData = async dispatch => {\n  try {\n    console.log(\"Fetching dashboard data...\"); // Debug log\n    const responseData = await DashboardData();\n    console.log(\"Dashboard data received:\", responseData); // Debug log\n\n    if (responseData && responseData.success) {\n      dispatch({\n        type: \"totalData\",\n        payload: responseData.data || responseData\n      });\n    } else {\n      console.warn(\"Dashboard data response format unexpected:\", responseData);\n      // Try dispatching the whole response if no success flag\n      dispatch({\n        type: \"totalData\",\n        payload: responseData\n      });\n    }\n  } catch (error) {\n    console.error(\"Error fetching dashboard data:\", error);\n    // Dispatch empty data to prevent undefined errors\n    dispatch({\n      type: \"totalData\",\n      payload: {\n        Users: 0,\n        Orders: 0,\n        Products: 0,\n        Categories: 0\n      }\n    });\n  }\n};\nexport const todayAllOrders = async dispatch => {\n  try {\n    const responseData = await getAllOrder();\n    if (responseData) {\n      dispatch({\n        type: \"totalOrders\",\n        payload: responseData\n      });\n    }\n  } catch (error) {\n    console.error(\"Error fetching orders:\", error);\n    dispatch({\n      type: \"totalOrders\",\n      payload: {\n        Orders: []\n      }\n    });\n  }\n};\nexport const sliderImages = async dispatch => {\n  try {\n    const responseData = await getSliderImages();\n    if (responseData && responseData.Images) {\n      dispatch({\n        type: \"sliderImages\",\n        payload: responseData.Images\n      });\n    } else if (responseData && Array.isArray(responseData)) {\n      dispatch({\n        type: \"sliderImages\",\n        payload: responseData\n      });\n    }\n  } catch (error) {\n    console.error(\"Error fetching slider images:\", error);\n    dispatch({\n      type: \"sliderImages\",\n      payload: []\n    });\n  }\n};\nexport const deleteImage = async (id, dispatch) => {\n  dispatch({\n    type: \"imageUpload\",\n    payload: true\n  });\n  try {\n    const responseData = await postDeleteImage(id);\n    if (responseData && responseData.success) {\n      setTimeout(() => {\n        sliderImages(dispatch);\n        dispatch({\n          type: \"imageUpload\",\n          payload: false\n        });\n      }, 1000);\n    } else {\n      dispatch({\n        type: \"imageUpload\",\n        payload: false\n      });\n    }\n  } catch (error) {\n    console.error(\"Error deleting image:\", error);\n    dispatch({\n      type: \"imageUpload\",\n      payload: false\n    });\n  }\n};\nexport const uploadImage = async (image, dispatch) => {\n  dispatch({\n    type: \"imageUpload\",\n    payload: true\n  });\n  const formData = new FormData();\n  formData.append(\"image\", image);\n  console.log(\"Uploading image:\", formData.get(\"image\"));\n  try {\n    const responseData = await postUploadImage(formData);\n    if (responseData && responseData.success) {\n      setTimeout(() => {\n        dispatch({\n          type: \"imageUpload\",\n          payload: false\n        });\n        sliderImages(dispatch);\n      }, 1000);\n    } else {\n      dispatch({\n        type: \"imageUpload\",\n        payload: false\n      });\n    }\n  } catch (error) {\n    console.error(\"Error uploading image:\", error);\n    dispatch({\n      type: \"imageUpload\",\n      payload: false\n    });\n  }\n};","map":{"version":3,"names":["DashboardData","postUploadImage","getSliderImages","postDeleteImage","getAllOrder","GetAllData","dispatch","console","log","responseData","success","type","payload","data","warn","error","Users","Orders","Products","Categories","todayAllOrders","sliderImages","Images","Array","isArray","deleteImage","id","setTimeout","uploadImage","image","formData","FormData","append","get"],"sources":["C:/Users/Lenovo/Downloads/OrganEase-main/client/src/components/admin/dashboardAdmin/Action.js"],"sourcesContent":["import {\n  DashboardData,\n  postUploadImage,\n  getSliderImages,\n  postDeleteImage,\n} from \"./FetchApi\";\nimport { getAllOrder } from \"../orders/FetchApi.js\";\n\nexport const GetAllData = async (dispatch) => {\n  try {\n    console.log(\"Fetching dashboard data...\"); // Debug log\n    const responseData = await DashboardData();\n    console.log(\"Dashboard data received:\", responseData); // Debug log\n    \n    if (responseData && responseData.success) {\n      dispatch({ type: \"totalData\", payload: responseData.data || responseData });\n    } else {\n      console.warn(\"Dashboard data response format unexpected:\", responseData);\n      // Try dispatching the whole response if no success flag\n      dispatch({ type: \"totalData\", payload: responseData });\n    }\n  } catch (error) {\n    console.error(\"Error fetching dashboard data:\", error);\n    // Dispatch empty data to prevent undefined errors\n    dispatch({ \n      type: \"totalData\", \n      payload: { Users: 0, Orders: 0, Products: 0, Categories: 0 } \n    });\n  }\n};\n\nexport const todayAllOrders = async (dispatch) => {\n  try {\n    const responseData = await getAllOrder();\n    if (responseData) {\n      dispatch({ type: \"totalOrders\", payload: responseData });\n    }\n  } catch (error) {\n    console.error(\"Error fetching orders:\", error);\n    dispatch({ type: \"totalOrders\", payload: { Orders: [] } });\n  }\n};\n\nexport const sliderImages = async (dispatch) => {\n  try {\n    const responseData = await getSliderImages();\n    if (responseData && responseData.Images) {\n      dispatch({ type: \"sliderImages\", payload: responseData.Images });\n    } else if (responseData && Array.isArray(responseData)) {\n      dispatch({ type: \"sliderImages\", payload: responseData });\n    }\n  } catch (error) {\n    console.error(\"Error fetching slider images:\", error);\n    dispatch({ type: \"sliderImages\", payload: [] });\n  }\n};\n\nexport const deleteImage = async (id, dispatch) => {\n  dispatch({ type: \"imageUpload\", payload: true });\n  try {\n    const responseData = await postDeleteImage(id);\n    if (responseData && responseData.success) {\n      setTimeout(() => {\n        sliderImages(dispatch);\n        dispatch({ type: \"imageUpload\", payload: false });\n      }, 1000);\n    } else {\n      dispatch({ type: \"imageUpload\", payload: false });\n    }\n  } catch (error) {\n    console.error(\"Error deleting image:\", error);\n    dispatch({ type: \"imageUpload\", payload: false });\n  }\n};\n\nexport const uploadImage = async (image, dispatch) => {\n  dispatch({ type: \"imageUpload\", payload: true });\n  const formData = new FormData();\n  formData.append(\"image\", image);\n  console.log(\"Uploading image:\", formData.get(\"image\"));\n  \n  try {\n    const responseData = await postUploadImage(formData);\n    if (responseData && responseData.success) {\n      setTimeout(() => {\n        dispatch({ type: \"imageUpload\", payload: false });\n        sliderImages(dispatch);\n      }, 1000);\n    } else {\n      dispatch({ type: \"imageUpload\", payload: false });\n    }\n  } catch (error) {\n    console.error(\"Error uploading image:\", error);\n    dispatch({ type: \"imageUpload\", payload: false });\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}