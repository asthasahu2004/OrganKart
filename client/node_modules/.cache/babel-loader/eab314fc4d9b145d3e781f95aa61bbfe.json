{"ast":null,"code":"import axios from \"axios\";\nconst apiURL = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\nconsole.log(\">> fetchApi.js using:\", apiURL);\nexport const isAuthenticate = () => localStorage.getItem(\"jwt\") ? JSON.parse(localStorage.getItem(\"jwt\")) : false;\nexport const isAdmin = () => localStorage.getItem(\"jwt\") ? JSON.parse(localStorage.getItem(\"jwt\")).user.userRole === \"admin\" : false;\nexport const loginReq = async _ref => {\n  let {\n    email,\n    password\n  } = _ref;\n  const data = {\n    email,\n    password\n  };\n  try {\n    let res = await axios.post(`${apiURL}/api/signin`, data);\n    return res.data;\n  } catch (error) {\n    console.error(\"‚ùå Login API error:\", error);\n    if (error.response && error.response.data) {\n      return {\n        error: error.response.data.error || \"Login request failed\"\n      };\n    }\n    return {\n      error: \"Login request failed\"\n    };\n  }\n};\nexport const signupReq = async _ref2 => {\n  let {\n    name,\n    email,\n    password,\n    cPassword,\n    userRole\n  } = _ref2;\n  const data = {\n    name,\n    email,\n    password,\n    cPassword,\n    userRole\n  };\n  const url = `${apiURL}/api/signup`;\n  console.log(\"üîç Signup URL ‚Üí\", url);\n  console.log(\"üîç Signup Data ‚Üí\", data);\n  try {\n    let res = await axios.post(url, data);\n    return res.data;\n  } catch (error) {\n    console.error(\"‚ùå Signup API error:\", error);\n    if (error.response && error.response.data) {\n      return {\n        error: error.response.data.error || \"Signup request failed\"\n      };\n    }\n    return {\n      error: \"Signup request failed\"\n    };\n  }\n};","map":{"version":3,"names":["axios","apiURL","process","env","REACT_APP_API_URL","console","log","isAuthenticate","localStorage","getItem","JSON","parse","isAdmin","user","userRole","loginReq","_ref","email","password","data","res","post","error","response","signupReq","_ref2","name","cPassword","url"],"sources":["C:/Users/Lenovo/Downloads/OrganEase-main/client/src/components/shop/auth/fetchApi.js"],"sourcesContent":["import axios from \"axios\";\n\nconst apiURL = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\nconsole.log(\">> fetchApi.js using:\", apiURL);\n\nexport const isAuthenticate = () =>\n  localStorage.getItem(\"jwt\") ? JSON.parse(localStorage.getItem(\"jwt\")) : false;\n\nexport const isAdmin = () =>\n  localStorage.getItem(\"jwt\")\n    ? JSON.parse(localStorage.getItem(\"jwt\")).user.userRole === \"admin\"\n    : false;\n\n\nexport const loginReq = async ({ email, password }) => {\n  const data = { email, password };\n  try {\n    let res = await axios.post(`${apiURL}/api/signin`, data);\n    return res.data;\n  } catch (error) {\n    console.error(\"‚ùå Login API error:\", error);\n    if (error.response && error.response.data) {\n      return { error: error.response.data.error || \"Login request failed\" };\n    }\n    return { error: \"Login request failed\" };\n  }\n};\n\nexport const signupReq = async ({ name, email, password, cPassword, userRole }) => {\n  const data = { name, email, password, cPassword, userRole };\n  const url = `${apiURL}/api/signup`;\n  console.log(\"üîç Signup URL ‚Üí\", url);\n  console.log(\"üîç Signup Data ‚Üí\", data);\n  \n  try {\n    let res = await axios.post(url, data);\n    return res.data;\n  } catch (error) {\n    console.error(\"‚ùå Signup API error:\", error);\n    if (error.response && error.response.data) {\n      return { error: error.response.data.error || \"Signup request failed\" };\n    }\n    return { error: \"Signup request failed\" };\n  }\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AACvEC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEL,MAAM,CAAC;AAE5C,OAAO,MAAMM,cAAc,GAAGA,CAAA,KAC5BC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK;AAE/E,OAAO,MAAMG,OAAO,GAAGA,CAAA,KACrBJ,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,GACvBC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC,CAACI,IAAI,CAACC,QAAQ,KAAK,OAAO,GACjE,KAAK;AAGX,OAAO,MAAMC,QAAQ,GAAG,MAAAC,IAAA,IAA+B;EAAA,IAAxB;IAAEC,KAAK;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAChD,MAAMG,IAAI,GAAG;IAAEF,KAAK;IAAEC;EAAS,CAAC;EAChC,IAAI;IACF,IAAIE,GAAG,GAAG,MAAMpB,KAAK,CAACqB,IAAI,CAAC,GAAGpB,MAAM,aAAa,EAAEkB,IAAI,CAAC;IACxD,OAAOC,GAAG,CAACD,IAAI;EACjB,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdjB,OAAO,CAACiB,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC1C,IAAIA,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,EAAE;MACzC,OAAO;QAAEG,KAAK,EAAEA,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACG,KAAK,IAAI;MAAuB,CAAC;IACvE;IACA,OAAO;MAAEA,KAAK,EAAE;IAAuB,CAAC;EAC1C;AACF,CAAC;AAED,OAAO,MAAME,SAAS,GAAG,MAAAC,KAAA,IAA0D;EAAA,IAAnD;IAAEC,IAAI;IAAET,KAAK;IAAEC,QAAQ;IAAES,SAAS;IAAEb;EAAS,CAAC,GAAAW,KAAA;EAC5E,MAAMN,IAAI,GAAG;IAAEO,IAAI;IAAET,KAAK;IAAEC,QAAQ;IAAES,SAAS;IAAEb;EAAS,CAAC;EAC3D,MAAMc,GAAG,GAAG,GAAG3B,MAAM,aAAa;EAClCI,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEsB,GAAG,CAAC;EACnCvB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEa,IAAI,CAAC;EAErC,IAAI;IACF,IAAIC,GAAG,GAAG,MAAMpB,KAAK,CAACqB,IAAI,CAACO,GAAG,EAAET,IAAI,CAAC;IACrC,OAAOC,GAAG,CAACD,IAAI;EACjB,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdjB,OAAO,CAACiB,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC3C,IAAIA,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,EAAE;MACzC,OAAO;QAAEG,KAAK,EAAEA,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACG,KAAK,IAAI;MAAwB,CAAC;IACxE;IACA,OAAO;MAAEA,KAAK,EAAE;IAAwB,CAAC;EAC3C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}